document.callOnReady(function(){var e=function(e,t){return(!t.useName||""===t.name||-1!==e.name.indexOf(t.name))&&(!t.useOther||!(""!==t.subject&&-1===$.inArray(t.subject,e.subjects)||""!==t.language&&-1===$.inArray(t.language,e.languages)))},t=function(t,a){var c=0;return $(t).each(function(){var t={name:$(this).attr("data-name")||"",subjects:($(this).attr("data-subjects")||"").split(" "),languages:($(this).attr("data-languages")||"").split(" ")},n=e(t,a);$(this).toggle(n),n&&(c+=1)}),c},a=function(){var e={useName:$("#toggle-text-search").prop("checked"),name:$("#text-search").val(),useOther:$("#toggle-controls").prop("checked"),subject:$("input[name=subject]:checked").val()||"",language:$("input[name=language]:checked").val()||""},a=t(".track-card",e),c=t(".course-card",e);$("#track-count").html(a),$(".track-cards .no-results").toggle(0===a),$("#course-count").html(c),$(".course-cards .no-results").toggle(0===c)};$("#toggle-text-search").on("change",function(){this.checked&&$("#text-search").focus(),a()}),$("#text-search").on("keyup",function(e){27===e.keyCode&&$(this).val(""),a()}),$(".filters input").on("change",a),$("#toggle-controls").on("click",function(){$(".search-controls-container").toggle(),a()}),$("#clear-filter").on("click",function(){$(".filters input").prop("checked",!1),a()}),a()});